{
  "dashboard": {
    "uid": "camera-detail",
    "title": "Camera Detail",
    "tags": ["cameras", "monitoring"],
    "timezone": "browser",
    "schemaVersion": 38,
    "refresh": "1m",
    "time": {"from": "now-1d", "to": "now"},
    "timepicker": {
      "refresh_intervals": ["10s", "30s", "1m", "5m"],
      "time_options": ["1h", "6h", "12h", "24h", "2d", "7d", "30d"]
    },
    "templating": {
      "list": [
        {
          "name": "camera",
          "label": "Camera",
          "type": "query",
          "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
          "query": "label_values(gatus_results_total{type=\"ICMP\"}, name)",
          "refresh": 2,
          "includeAll": false,
          "multi": false
        }
      ]
    },
    "panels": [
      {
        "id": 1,
        "title": "Ping Status",
        "type": "stat",
        "gridPos": {"h": 4, "w": 4, "x": 0, "y": 0},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [{"expr": "clamp_max(increase(gatus_results_total{name=\"$camera\", type=\"ICMP\", success=\"true\"}[2m]), 1)", "instant": true}],
        "fieldConfig": {"defaults": {"mappings": [{"type": "value", "options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}}], "color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}}
      },
      {
        "id": 6,
        "title": "RTSP Port 554",
        "type": "stat",
        "gridPos": {"h": 4, "w": 4, "x": 4, "y": 0},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [{"expr": "clamp_max(increase(gatus_results_total{name=\"$camera\", type=\"TCP\", success=\"true\"}[2m]), 1)", "instant": true}],
        "fieldConfig": {"defaults": {"mappings": [{"type": "value", "options": {"1": {"text": "OPEN", "color": "green"}, "0": {"text": "CLOSED", "color": "red"}}}], "color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}}
      },
      {
        "id": 2,
        "title": "Ping Latency",
        "type": "stat",
        "gridPos": {"h": 4, "w": 4, "x": 8, "y": 0},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [{"expr": "gatus_results_duration_seconds{name=\"$camera\", type=\"ICMP\"} * 1000", "instant": true}],
        "fieldConfig": {"defaults": {"unit": "ms", "decimals": 1, "color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 100}, {"color": "red", "value": 500}]}}}
      },
      {
        "id": 3,
        "title": "Dropped Pings (1h)",
        "type": "stat",
        "gridPos": {"h": 4, "w": 4, "x": 12, "y": 0},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [{"expr": "increase(gatus_results_total{name=\"$camera\", type=\"ICMP\", success=\"false\"}[1h]) OR on() vector(0)", "instant": true}],
        "fieldConfig": {"defaults": {"decimals": 0, "color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 1}, {"color": "red", "value": 5}]}}}
      },
      {
        "id": 4,
        "title": "Dropped Pings (24h)",
        "type": "stat",
        "gridPos": {"h": 4, "w": 4, "x": 16, "y": 0},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [{"expr": "increase(gatus_results_total{name=\"$camera\", type=\"ICMP\", success=\"false\"}[24h]) OR on() vector(0)", "instant": true}],
        "fieldConfig": {"defaults": {"decimals": 0, "color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 1}, {"color": "red", "value": 10}]}}}
      },
      {
        "id": 5,
        "title": "Dropped Pings (7d)",
        "type": "stat",
        "gridPos": {"h": 4, "w": 4, "x": 20, "y": 0},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [{"expr": "increase(gatus_results_total{name=\"$camera\", type=\"ICMP\", success=\"false\"}[7d]) OR on() vector(0)", "instant": true}],
        "fieldConfig": {"defaults": {"decimals": 0, "color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 5}, {"color": "red", "value": 20}]}}}
      },
      {
        "id": 10,
        "title": "Ping Response Time",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 4},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [{
          "expr": "gatus_results_duration_seconds{name=\"$camera\", type=\"ICMP\"} * 1000",
          "legendFormat": "Ping Latency"
        }],
        "fieldConfig": {"defaults": {"unit": "ms", "color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 2}}},
        "options": {"legend": {"displayMode": "list", "placement": "bottom"}}
      },
      {
        "id": 12,
        "title": "RTSP Port 554 Response Time",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 12},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [{
          "expr": "gatus_results_duration_seconds{name=\"$camera\", type=\"TCP\"} * 1000",
          "legendFormat": "TCP 554 Response"
        }],
        "fieldConfig": {"defaults": {"unit": "ms", "color": {"mode": "fixed", "fixedColor": "orange"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 2}}},
        "options": {"legend": {"displayMode": "list", "placement": "bottom"}}
      },
      {
        "id": 11,
        "title": "Check Results History",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 20},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [
          {
            "expr": "increase(gatus_results_total{name=\"$camera\", type=\"ICMP\", success=\"true\"}[1m])",
            "legendFormat": "Ping Success",
            "interval": "1m"
          },
          {
            "expr": "increase(gatus_results_total{name=\"$camera\", type=\"ICMP\", success=\"false\"}[1m])",
            "legendFormat": "Ping Failure",
            "interval": "1m"
          },
          {
            "expr": "increase(gatus_results_total{name=\"$camera\", type=\"TCP\", success=\"true\"}[1m])",
            "legendFormat": "RTSP Success",
            "interval": "1m"
          },
          {
            "expr": "increase(gatus_results_total{name=\"$camera\", type=\"TCP\", success=\"false\"}[1m])",
            "legendFormat": "RTSP Failure",
            "interval": "1m"
          }
        ],
        "fieldConfig": {"defaults": {"custom": {"drawStyle": "bars", "fillOpacity": 80, "barMaxWidth": 10}}, "overrides": [{"matcher": {"id": "byName", "options": "Ping Success"}, "properties": [{"id": "color", "value": {"mode": "fixed", "fixedColor": "green"}}]}, {"matcher": {"id": "byName", "options": "Ping Failure"}, "properties": [{"id": "color", "value": {"mode": "fixed", "fixedColor": "red"}}]}, {"matcher": {"id": "byName", "options": "RTSP Success"}, "properties": [{"id": "color", "value": {"mode": "fixed", "fixedColor": "blue"}}]}, {"matcher": {"id": "byName", "options": "RTSP Failure"}, "properties": [{"id": "color", "value": {"mode": "fixed", "fixedColor": "orange"}}]}]},
        "options": {"legend": {"displayMode": "list", "placement": "bottom"}}
      },
      {
        "id": 21,
        "title": "Uptime Timeline",
        "type": "state-timeline",
        "gridPos": {"h": 5, "w": 24, "x": 0, "y": 28},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [
          {
            "expr": "clamp_max(increase(gatus_results_total{name=\"$camera\", type=\"ICMP\", success=\"true\"}[$__interval]), 1)",
            "legendFormat": "Ping",
            "refId": "ping"
          },
          {
            "expr": "clamp_max(increase(gatus_results_total{name=\"$camera\", type=\"TCP\", success=\"true\"}[$__interval]), 1)",
            "legendFormat": "RTSP 554",
            "refId": "rtsp"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {"type": "value", "options": {"0": {"text": "DOWN", "color": "red"}}},
              {"type": "value", "options": {"1": {"text": "UP", "color": "green"}}}
            ],
            "color": {"mode": "thresholds"},
            "thresholds": {"steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
          }
        },
        "options": {"showValue": "auto", "alignValue": "center", "mergeValues": true, "rowHeight": 0.8}
      },
      {
        "id": 20,
        "title": "Failure Events Log",
        "type": "table",
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 33},
        "datasource": {"type": "prometheus", "uid": "P4169E866C3094E38"},
        "targets": [
          {
            "expr": "increase(gatus_results_total{name=\"$camera\", success=\"false\"}[$__interval]) > 0",
            "format": "table",
            "instant": false,
            "range": true,
            "refId": "failures"
          }
        ],
        "transformations": [
          {"id": "filterByValue", "options": {"filters": [{"fieldName": "Value", "config": {"id": "greater", "options": {"value": 0}}}], "type": "include", "match": "any"}},
          {"id": "organize", "options": {
            "excludeByName": {"__name__": true, "instance": true, "job": true, "key": true, "group": true, "success": true, "name": true},
            "renameByName": {"Time": "Timestamp", "type": "Check Type", "Value": "Failures"}
          }},
          {"id": "sortBy", "options": {"fields": [], "sort": [{"field": "Timestamp", "desc": true}]}}
        ],
        "fieldConfig": {
          "defaults": {"custom": {"align": "left", "filterable": true}},
          "overrides": [
            {"matcher": {"id": "byName", "options": "Timestamp"}, "properties": [{"id": "custom.width", "value": 200}]},
            {"matcher": {"id": "byName", "options": "Check Type"}, "properties": [{"id": "custom.width", "value": 100}]},
            {"matcher": {"id": "byName", "options": "Failures"}, "properties": [{"id": "decimals", "value": 0}, {"id": "custom.cellOptions", "value": {"type": "color-background"}}, {"id": "color", "value": {"mode": "fixed", "fixedColor": "red"}}]}
          ]
        },
        "options": {"showHeader": true, "cellHeight": "sm", "footer": {"show": true, "countRows": true}}
      }
    ]
  },
  "overwrite": true
}
